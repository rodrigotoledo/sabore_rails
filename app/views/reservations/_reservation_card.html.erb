<div class="bg-white rounded-xl shadow-md p-4">
  <div class="flex justify-between items-start mb-3">
    <div class="flex-1">
      <h3 class="font-bold text-lg text-gray-900">
        <%= link_to reservation.establishment.name, establishment_path(reservation.establishment), class: "hover:text-yellow-600" %>
      </h3>
      <p class="text-gray-600 text-sm mt-1">
        <%= reservation.establishment.address %>
      </p>
    </div>
    <span class="px-3 py-1 rounded-full text-xs font-semibold <%= case reservation.status
                                                                   when 'confirmed' then 'bg-green-100 text-green-800'
                                                                   when 'completed' then 'bg-blue-100 text-blue-800'
                                                                   when 'cancelled' then 'bg-red-100 text-red-800'
                                                                   else 'bg-yellow-100 text-yellow-800'
                                                                   end %>">
      <%= case reservation.status
          when 'confirmed' then 'âœ“ Confirmada'
          when 'completed' then 'âœ“ ConcluÃ­da'
          when 'cancelled' then 'âœ— Cancelada'
          else 'â³ Pendente'
          end %>
    </span>
  </div>

  <div class="border-t border-gray-200 pt-3 grid grid-cols-2 gap-3">
    <div>
      <p class="text-xs text-gray-500">Data e Hora</p>
      <p class="font-semibold text-gray-900">
        <%= reservation.date.strftime('%d/%m/%Y %H:%M') %>
      </p>
    </div>
    <div>
      <p class="text-xs text-gray-500">Pessoas</p>
      <p class="font-semibold text-gray-900">
        <%= reservation.people_count %> pessoa<%= reservation.people_count > 1 ? 's' : '' %>
      </p>
    </div>
  </div>

  <% if reservation.anonymous? %>
    <div class="mt-3 p-2 bg-blue-50 rounded-lg">
      <p class="text-xs text-blue-700">
        ðŸ“§ Reserva anÃ´nima â€¢ <%= reservation.email %>
      </p>
    </div>
  <% end %>

  <% unless defined?(show_actions) && show_actions == false %>
    <% if reservation.date >= Time.current && ['confirmed', 'pending'].include?(reservation.status) %>
      <div class="mt-4 flex gap-2">
        <%= link_to "Detalhes", reservation_path(reservation), class: "flex-1 text-center py-2 px-4 bg-yellow-500 text-white rounded-lg font-semibold hover:bg-yellow-600 transition" %>
        <%= link_to "Cancelar", reservation_path(reservation), method: :delete, data: { confirm: "Tem certeza?" }, class: "py-2 px-4 text-red-600 font-semibold hover:bg-red-50 rounded-lg transition" %>
      </div>
    <% end %>
  <% end %>
</div>
